<body>
<%= form_for(userdetail) do |f| %>
  <% if userdetail.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(userdetail.errors.count, "error") %> prohibited this userdetail from being saved:</h2>

      <ul>
      <% userdetail.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<div class="container">
    <h1>Edit Profile</h1>
    <hr>
  <div class="row">
      <!-- left column -->
      <div class="col-md-3">
        <div class="text-center">
          <img id="img_prev" src="#" class="avatar img-circle"  alt="Avatar">
              <h6>Upload a different photo...</h6>
              <%= f.file_field :image,{:onchange=>"readURL(this)"} %>
        </div>
      </div>
      
      <!-- edit form column -->
      <div class="col-md-9 personal-info">
        <div class="alert alert-info alert-dismissable">
          <a class="panel-close close" data-dismiss="alert">Ã—</a> 
          <i class="fa fa-coffee"></i>
          Do you want to edit your profile...???
        </div>
        <h3>Personal info</h3>
        
        <form class="form-horizontal" role="form">
          <div class="form-group">
            <label class="col-lg-3 control-label">First name:</label>
            <div class="col-lg-8">
            
              <%= f.text_field :firstname ,class: 'form-control'%>    
            </div>
          </div>
          <br>

          <div class="form-group">
            <label class="col-lg-3 control-label">Last name:</label>
            <div class="col-lg-8">
               <%= f.text_field :lastname  ,class: 'form-control'%>
            </div>
          </div>
          <br>
          
          <div class="form-group">
            <label class="col-lg-3 control-label">Date Of Birth:</label>
            <div class="col-lg-8">
              
              <%= f.date_field :dateofbirth ,{class:'form-control datepicker' }%>
            </div>
          </div>
          <br>

          <div class="form-group">
            <label class="col-lg-3 control-label">Gender:</label>
            <div class="col-lg-8">
              <div class="field">
              <%= f.radio_button :gender, 'Female' %> Female
              <%= f.radio_button :gender, 'Male' %> Male
              <%= f.radio_button :gender, 'Other' %> Other
  </div>
            </div>
          </div>
          <br>

          <div class="form-group">
            <label class="col-lg-3 control-label">Country:</label>
            <div class="col-lg-8">
              <%= f.country_select :country, ["India"],{},{class:"form-control"}%>
            </div>
          </div>
          <br>
          <div class="form-group">
            <label class="col-lg-3 control-label">User Type</label>
            <div class="col-lg-8">
              <%= f.select(:usertype, ["Student","Teacher","Other"], {}, {class: "form-control"}) %>
                 
            </div>
          </div>
          <br><br>

          <div class="form-group">
            <label class="col-lg-3 control-label">Qualification:</label>
            <div class="col-lg-8">
               <%=f.text_field :qualification ,class: 'form-control'%>
            </div>
          </div>
          <br>

          <div class="form-group">
            <label class="col-md-3 control-label">Interests:</label>
            <div class="col-md-8">
              <div class="field">
                   <% @subjects.each do |subject| %>
                <%= check_box_tag "userdetail[interests][]", subject.subjectname,checked(subject.subjectname) , id: subject.id,  :style => "float:left;"  %>
              <%= label subject.id, subject.subjectname, {class: "checkbox inline"} %>
              <% end %>
                </div>
            </div>
          </div>
          <br>

          <div class="form-group">
            <label class="col-md-3 control-label"></label>
            <div class="col-md-8">
              <%= f.submit class:'btn btn-primary'%>
              <span></span>
              <input class="btn btn-default" value="Cancel" type="reset">
            </div>
          </div>

        </form>
      </div>
  </div>
</div>
<hr>
<% end %>
<script>
      function readURL(input) {
        if (input.files && input.files[0]) {
          var reader = new FileReader();

          reader.onload = function (e) {
            $('#img_prev')
              .attr('src', e.target.result)
              .width(150)
              .height(200);
          };

          reader.readAsDataURL(input.files[0]);
        }
      }
</script> 
</body>